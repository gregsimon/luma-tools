<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Luma Tools</title>
    <style>
      @font-face {
        font-family: "condensed";
        src: url("luma1/fonts/InterstateRegularCondense.otf");
      }
      
      body, html {
        background-color: rgb(24,24,24);
        color: rgb(190,190,190);
        height: 100%;
        margin: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        font-family: 'condensed', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      }
      .container {
        text-align: center;
        max-width: 600px;
        padding: 20px;
      }
      .logo {
        margin-bottom: 30px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
      }
      .logo .icon {
        width: 120px;
        height: 120px;
      }
      .logo .text-logo {
        max-width: 300px;
      }
      h1 {
        font-weight: normal;
        letter-spacing: 1px;
        margin-bottom: 30px;
      }
      .choices {
        display: flex;
        gap: 20px;
        margin-bottom: 40px;
      }
      .choice-card {
        flex: 1;
        background-color: rgb(35, 35, 35);
        border: 1px solid rgb(60, 60, 60);
        border-radius: 8px;
        padding: 30px;
        cursor: pointer;
        transition: transform 0.2s, border-color 0.2s, background-color 0.2s;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .choice-card:hover {
        transform: translateY(-5px);
        border-color: rgb(100, 100, 100);
        background-color: rgb(45, 45, 45);
      }
      .choice-card h2 {
        margin-top: 0;
        color: white;
        font-weight: normal;
        letter-spacing: 1px;
      }
      .choice-card p {
        margin-bottom: 0;
        font-size: 16px;
        line-height: 1.4;
      }
      .footer {
        margin-top: 20px;
        font-size: 14px;
      }
      .footer a {
        color: #7a7a7a;
        text-decoration: none;
        margin: 0 10px;
      }
      .footer a:hover {
        text-decoration: underline;
      }
      #loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgb(24,24,24);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
      }
    </style>
    <script>
      function checkRedirect() {
        // If a mode is already set, redirect immediately
        const savedMode = localStorage.getItem("deviceMode");
        if (savedMode) {
          window.location.href = "luma1/";
        } else {
          // Otherwise hide the loading overlay and show the selection UI
          document.getElementById("loading-overlay").style.display = "none";
        }
      }

      function selectMode(mode) {
        localStorage.setItem("deviceMode", mode);
        window.location.href = "luma1/";
      }
    </script>
  </head>
  <body onload="checkRedirect()">
    <div id="loading-overlay">
      <p>Loading...</p>
    </div>

    <div class="container">
      <div class="logo">
        <img src="luma1/images/lumatools-icon-120x120.png" alt="Luma Tools Icon" class="icon">
        <img src="luma1/images/lumatools_logo.png" alt="Luma Tools Logo" class="text-logo">
      </div>
      
      <h1>SELECT YOUR DEVICE</h1>
      
      <div class="choices">
        <div class="choice-card" onclick="selectMode('luma1')">
          <h2>Luma-1</h2>
          <p>Tools for the Luma-1 Drum Machine</p>
        </div>
        <div class="choice-card" onclick="selectMode('lumamu')">
          <h2>Luma-Mu</h2>
          <p>Tools for the Luma-Mu Expansion</p>
        </div>
      </div>

      <div class="footer">
        <a href="mailto:gregsimon@gmail.com">Feedback</a>
        |
        <a href="luma1/policy.html">Privacy Policy</a>
        |
        <a href="luma1/terms.html">Terms of Service</a>
        |
        <a href="https://github.com/gregsimon/luma-tools">GitHub</a>
      </div>
    </div>
  </body>
</html>
